<nb-layout>
    <nb-layout-column class="backcolor">
        <div class="row backcolor">
            <div class="col ">
                <nb-card class="main ">
                    <div class="row ">
                        <p class="text-center register">SIGN UP</p>
                    </div>

                    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

                        <div class="row ">
                            <label for="name">User name </label>
                        </div>
                        <div class="row">
                            <!-- is-invalid is a CSS class that will invoke if submitted and  f.name.errors are true  -->
                            <input type="text" formControlName="name" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.name.errors }" nbInput fullWidth status="primary" placeholder="Username">
                            <div class="text-danger error" *ngIf="submitted && f.name.errors" class="invalid-feedback">
                                <div *ngIf="f.name.errors.required">First Name is required</div>
                            </div>
                        </div>

                        <div class="row">
                            <label for="email">User Email </label>
                        </div>
                        <div class="row">
                            <input type="text" formControlName="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" nbInput fullWidth status="primary" placeholder="Email">
                            <div class="text-danger error" *ngIf="submitted && f.email.errors" class="invalid-feedback">
                                <div *ngIf="f.email.errors.required">Email is required</div>
                                <div *ngIf="f.email.errors.email">Email must be a valid email address</div>
                            </div>
                        </div>
                        <div class="row">
                            <label for="password">User Password </label>
                        </div>
                        <div class="row">
                            <nb-form-field style="margin: 0px; padding: 0px;">
                                <input [type]="getInputType()" formControlName="password" type="password" nbInput fullWidth status="primary" [ngClass]="{'is-invalid': submitted && f.password.errors}" placeholder="Password">
                                <nb-icon class="eyeButton" *ngIf="f.password.value !== '' && !(submitted && f.password.errors) " nbSuffix (click)="toggleShowPassword()" [icon]="showPassword ? 'eye-outline' : 'eye-off-2-outline'" pack="eva" [attr.aria-label]="showPassword ? 'hide password' : 'show password'"
                                    style="position: relative; top: 0.3rem;
                                ">
                                </nb-icon>
                                <nb-icon class="eyeButtonShift" *ngIf="(submitted && f.password.errors)" nbSuffix (click)="toggleShowPassword()" [icon]="showPassword ? 'eye-outline' : 'eye-off-2-outline'" pack="eva" [attr.aria-label]="showPassword ? 'hide password' : 'show password'"
                                    style="position: relative;     bottom: 0.4rem;
                                ">
                                </nb-icon>

                                <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                                    <div *ngIf="f.password.errors.required">Password is required</div>
                                    <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters</div>
                                </div>
                            </nb-form-field>

                        </div>
                        <div class="row">
                            <label for="confirmPassword">Confirm Password </label>
                        </div>
                        <div class="row">
                            <nb-form-field style="margin: 0px; padding: 0px;">
                                <input [type]="getInputTypeConfirm()" formControlName="confirmPassword" type="password" nbInput fullWidth status="primary" [ngClass]="{'is-invalid': submitted && f.confirmPassword.errors}" placeholder="Confirm Password">
                                <nb-icon class="eyeButton" *ngIf="f.confirmPassword.value !== '' && !(submitted && f.confirmPassword.errors) " nbSuffix (click)="toggleShowConfirmPassword()" [icon]="showConfirmPassword ? 'eye-outline' : 'eye-off-2-outline'" pack="eva" [attr.aria-label]="showConfirmPassword ? 'hide password' : 'show password'"
                                    style="position: relative; top: 0.3rem;
                                ">
                                </nb-icon>
                                <nb-icon class="eyeButtonShift" *ngIf="(submitted && f.confirmPassword.errors)" nbSuffix (click)="toggleShowConfirmPassword()" [icon]="showConfirmPassword ? 'eye-outline' : 'eye-off-2-outline'" pack="eva" [attr.aria-label]="showConfirmPassword ? 'hide password' : 'show password'"
                                    style="position: relative;     bottom: 0.5rem;
                                ">
                                </nb-icon>
                                <div class="text-danger error" *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback ">
                                    <div *ngIf="f.confirmPassword.errors.required">Confirm Password is required</div>
                                    <div *ngIf="f.confirmPassword.errors.mustMatch">Passwords must match</div>
                                </div>
                            </nb-form-field>

                        </div>
                        <div class="row">
                            <div class="col text-center mt-3">
                                <nb-button-group multiple>
                                    <button (click)="onSubmit()">REGISTER</button>
                                </nb-button-group>
                            </div>
                        </div>

                        <div class="row pt-4">
                            <div class="col text-center">
                                <span>
                               Already registered?
                              <a [routerLink]="['']">LOGIN </a>
                            </span>
                            </div>
                        </div>
                    </form>
                </nb-card>
            </div>
        </div>
    </nb-layout-column>
</nb-layout>
